language Test {
  (Lambda param body) {
    import 1;
    import 2;
    bind 1 in 2;
  }
  (Apply func arg) {
    import 1;
    import 2;
  }
  (Plus left right) {
    import 1;
    import 2;
  }
  (Begin body) {
    import 1;
  }
  
  sugar (Let binds body)
  sugar (Bind name defn binds)
  sugar (EndBinds)
  
  rule (Let (Bind a b c) d)
    => (Apply (Lambda a (Let c d)) b)
  rule (Let (EndBinds) a)
    => (Begin a)

  rule (BindingTest1)
    => (Lambda @x (Plus $x (Three)))
  rule (BindingTest2)
    => (Lambda @x (Let (Bind @x $x (EndBinds)) $x))
}